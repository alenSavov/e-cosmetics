@model ArticlesCollectionViewModel

@{
    ViewData["Title"] = "Articles";
}

<section class="articles-wrapper">
    <div class="main-nav">
        <h1>Articles</h1>

        <ul>
            <li><a asp-controller="Home" asp-action="index">Home</a></li>
            <li><p>Articles</p></li>
        </ul>
    </div>


    <section class="articles-container">

        @foreach (var article in Model.Articles)
        {
            <div class="article">
                @*<img src="@article.Picture.Url" />*@

                @*<p class="article-content">@Html.Raw(article.Content)</p>*@

                <div class="article-content">

                    <div class="article-info">
                        <p class="article-createdOn">@article.CreatedOn.ToString("MMMM dd, yyyy")</p>
                        <p class="pipe">|</p>
                        <p class="article-creator">@article.Creator</p>
                    </div>
                    <p class="article-title">@article.Title</p>

                    <div class="article-buttons-box">
                        <a class="button read-more-btn" asp-controller="article" asp-action="getById" asp-route-id="@article.Id">Read More</a>
                        @if (this.User.Identity.IsAuthenticated)
                        {
                            @if (this.User.IsInRole(GlobalConstants.ADMINISTRATOR_ROLE))
                            {
                                <a class="button" asp-controller="article" asp-action="delete" asp-route-id="@article.Id">Delete</a>
                                <a class="button" asp-controller="article" asp-action="Edit" asp-route-id="@article.Id">Edit</a>
                            }
                        }
                    </div>
                </div>
            </div>

        }
    </section>
</section>


